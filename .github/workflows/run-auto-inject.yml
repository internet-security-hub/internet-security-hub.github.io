name: Run Auto-Inject Dates Script
on:
  workflow_dispatch:  # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é –∫–Ω–æ–ø–∫–æ–π

jobs:
  auto-inject:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3
        
      - name: Make script executable
        run: chmod +x auto-inject-dates.sh
        
      - name: Run auto-inject script
        run: ./auto-inject-dates.sh
        
      - name: Commit and push changes
        run: |
          git config --local user.email "action@github.com"
          git config --local user.name "GitHub Action"
          git add -A
          
          if ! git diff --staged --quiet; then
            git commit -m "ü§ñ –ê–≤—Ç–æ-–∏–Ω–∂–µ–∫—Ç —Å–∫—Ä–∏–ø—Ç–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞—Ç"
            git push
            echo "‚úÖ –°–∫—Ä–∏–ø—Ç—ã —É—Å–ø–µ—à–Ω–æ –≤–Ω–µ–¥—Ä–µ–Ω—ã!"
          else
            echo "‚ÑπÔ∏è –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –∫–æ–º–º–∏—Ç–∞"
          fi
